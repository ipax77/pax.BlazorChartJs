@using Microsoft.JSInterop
@using pax.BlazorChartJs
@inject IJSRuntime jsRuntime

<h3>BarChartPage</h3>

<div class="btn-group">
    <button type="button" class="btn btn-primary" @onclick="ShowChart">ShowChart</button>
    <button type="button" class="btn btn-primary" @onclick="AddData">AddData</button>
    <button type="button" class="btn btn-primary" @onclick="ShowImages">ShowImages</button>
    <button type="button" class="btn btn-primary" @onclick="ShowDataLabels">ShowLabels</button>
    <button type="button" class="btn btn-primary" @onclick="Horizontal">Horizontal</button>
    <button type="button" class="btn btn-primary" @onclick="MakeImage">MakeImage</button>
</div>
<div class="btn-group">
    <button type="button" class="btn btn-primary" @onclick="Randomize">Randomize</button>
    <button type="button" class="btn btn-primary" @onclick="AddDataset">Add Dataset</button>
    <button type="button" class="btn btn-primary" @onclick="AddData">Add Data</button>
    <button type="button" class="btn btn-primary" @onclick="RemoveLastDataset">Remove Dataset</button>
    <button type="button" class="btn btn-primary" @onclick="RemoveLastDataFromDatasets">Remove Data</button>
</div>

<div class="chart-container w-75">
    <ChartComponent @ref="chartComponent"
        OnEventTriggered="ChartEventTriggered"
        ChartJsConfig="chartJsConfig"
    />
    <p id="chartVersion" style="position: absolute; right: 10px; top: 10px;">ChartJs v@(chartVersion)</p>
</div>

<div>
    @if (!String.IsNullOrEmpty(labelClicked))
    {
        <p>
            Label clicked: @labelClicked
        </p>
    }
</div>

<div>
    @if (imageString != null)
    {
        <img id="chartImage" src="@imageString" alt="chart" />
    }
</div>
<div>
    @if (canvasInfo != null)
    {
        <img id="canvasImage" src="@canvasInfo" alt="chart" />
    }
</div>


